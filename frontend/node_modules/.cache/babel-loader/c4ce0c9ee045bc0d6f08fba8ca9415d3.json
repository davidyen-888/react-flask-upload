{"ast":null,"code":"import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n  var _a;\n  return toArray(((_a = parent.shadowRoot) === null || _a === void 0 ? void 0 : _a.children) || parent.children).reduce(function (acc, child) {\n    return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n  }, []);\n};\nexport var getFocusables = function (parents, withGuards) {\n  return parents.reduce(function (acc, parent) {\n    return acc.concat(\n    // add all tabbables inside and within shadow DOMs in DOM order\n    getFocusablesWithShadowDom(parent, withGuards),\n    // add if node is tabbable itself\n    parent.parentNode ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) {\n      return node === parent;\n    }) : []);\n  }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n  var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n  return toArray(parentFocus).map(function (node) {\n    return getFocusables([node]);\n  }).reduce(function (acc, nodes) {\n    return acc.concat(nodes);\n  }, []);\n};","map":{"version":3,"names":["FOCUS_AUTO","toArray","tabbables","queryTabbables","join","queryGuardTabbables","concat","getFocusablesWithShadowDom","parent","withGuards","_a","shadowRoot","children","reduce","acc","child","matches","getFocusables","parents","parentNode","querySelectorAll","filter","node","getParentAutofocusables","parentFocus","map","nodes"],"sources":["/Users/davidhsieh/Code/react-flask-upload/frontend/node_modules/focus-lock/dist/es2015/utils/tabUtils.js"],"sourcesContent":["import { FOCUS_AUTO } from '../constants';\nimport { toArray } from './array';\nimport { tabbables } from './tabbables';\nvar queryTabbables = tabbables.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusablesWithShadowDom = function (parent, withGuards) {\n    var _a;\n    return toArray(((_a = parent.shadowRoot) === null || _a === void 0 ? void 0 : _a.children) || parent.children).reduce(function (acc, child) {\n        return acc.concat(child.matches(withGuards ? queryGuardTabbables : queryTabbables) ? [child] : [], getFocusablesWithShadowDom(child));\n    }, []);\n};\nexport var getFocusables = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        return acc.concat(\n        // add all tabbables inside and within shadow DOMs in DOM order\n        getFocusablesWithShadowDom(parent, withGuards), \n        // add if node is tabbable itself\n        parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\n/**\n * return a list of focusable nodes within an area marked as \"auto-focusable\"\n * @param parent\n */\nexport var getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,cAAc;AACzC,SAASC,OAAO,QAAQ,SAAS;AACjC,SAASC,SAAS,QAAQ,aAAa;AACvC,IAAIC,cAAc,GAAGD,SAAS,CAACE,IAAI,CAAC,GAAG,CAAC;AACxC,IAAIC,mBAAmB,GAAG,EAAE,CAACC,MAAM,CAACH,cAAc,EAAE,sBAAsB,CAAC;AAC3E,IAAII,0BAA0B,GAAG,UAAUC,MAAM,EAAEC,UAAU,EAAE;EAC3D,IAAIC,EAAE;EACN,OAAOT,OAAO,CAAC,CAAC,CAACS,EAAE,GAAGF,MAAM,CAACG,UAAU,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,QAAQ,KAAKJ,MAAM,CAACI,QAAQ,CAAC,CAACC,MAAM,CAAC,UAAUC,GAAG,EAAEC,KAAK,EAAE;IACxI,OAAOD,GAAG,CAACR,MAAM,CAACS,KAAK,CAACC,OAAO,CAACP,UAAU,GAAGJ,mBAAmB,GAAGF,cAAc,CAAC,GAAG,CAACY,KAAK,CAAC,GAAG,EAAE,EAAER,0BAA0B,CAACQ,KAAK,CAAC,CAAC;EACzI,CAAC,EAAE,EAAE,CAAC;AACV,CAAC;AACD,OAAO,IAAIE,aAAa,GAAG,UAAUC,OAAO,EAAET,UAAU,EAAE;EACtD,OAAOS,OAAO,CAACL,MAAM,CAAC,UAAUC,GAAG,EAAEN,MAAM,EAAE;IACzC,OAAOM,GAAG,CAACR,MAAM;IACjB;IACAC,0BAA0B,CAACC,MAAM,EAAEC,UAAU,CAAC;IAC9C;IACAD,MAAM,CAACW,UAAU,GACXlB,OAAO,CAACO,MAAM,CAACW,UAAU,CAACC,gBAAgB,CAACjB,cAAc,CAAC,CAAC,CAACkB,MAAM,CAAC,UAAUC,IAAI,EAAE;MAAE,OAAOA,IAAI,KAAKd,MAAM;IAAE,CAAC,CAAC,GAC/G,EAAE,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;AACV,CAAC;AACD;AACA;AACA;AACA;AACA,OAAO,IAAIe,uBAAuB,GAAG,UAAUf,MAAM,EAAE;EACnD,IAAIgB,WAAW,GAAGhB,MAAM,CAACY,gBAAgB,CAAC,GAAG,CAACd,MAAM,CAACN,UAAU,EAAE,GAAG,CAAC,CAAC;EACtE,OAAOC,OAAO,CAACuB,WAAW,CAAC,CACtBC,GAAG,CAAC,UAAUH,IAAI,EAAE;IAAE,OAAOL,aAAa,CAAC,CAACK,IAAI,CAAC,CAAC;EAAE,CAAC,CAAC,CACtDT,MAAM,CAAC,UAAUC,GAAG,EAAEY,KAAK,EAAE;IAAE,OAAOZ,GAAG,CAACR,MAAM,CAACoB,KAAK,CAAC;EAAE,CAAC,EAAE,EAAE,CAAC;AACxE,CAAC"},"metadata":{},"sourceType":"module"}