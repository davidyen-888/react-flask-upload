{"ast":null,"code":"// src/index.ts\nimport { trackElementSize } from \"@zag-js/element-size\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nvar useSafeLayoutEffect = Boolean(globalThis == null ? void 0 : globalThis.document) ? useLayoutEffect : useEffect;\nfunction trackMutation(el, cb) {\n  var _a;\n  if (!el || !el.parentElement) return;\n  const win = ((_a = el.ownerDocument) == null ? void 0 : _a.defaultView) ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return () => {\n    observer.disconnect();\n  };\n}\nfunction useSizes(_ref) {\n  let {\n    getNodes,\n    observeMutation = true\n  } = _ref;\n  const [sizes, setSizes] = useState([]);\n  const [count, setCount] = useState(0);\n  useSafeLayoutEffect(() => {\n    const elements = getNodes();\n    const cleanups = elements.map((element, index) => trackElementSize(element, size => {\n      setSizes(sizes2 => {\n        return [...sizes2.slice(0, index), size, ...sizes2.slice(index + 1)];\n      });\n    }));\n    if (observeMutation) {\n      const firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, () => {\n        setCount(count2 => count2 + 1);\n      }));\n    }\n    return () => {\n      cleanups.forEach(cleanup => {\n        cleanup == null ? void 0 : cleanup();\n      });\n    };\n  }, [count]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject) {\n  const [size] = useSizes({\n    observeMutation: false,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  });\n  return size;\n}\nexport { useSize, useSizes };","map":{"version":3,"names":["trackElementSize","useEffect","useLayoutEffect","useState","useSafeLayoutEffect","Boolean","globalThis","document","trackMutation","el","cb","_a","parentElement","win","ownerDocument","defaultView","window","observer","MutationObserver","observe","childList","disconnect","useSizes","getNodes","observeMutation","sizes","setSizes","count","setCount","elements","cleanups","map","element","index","size","sizes2","slice","firstNode","push","count2","forEach","cleanup","isRef","ref","useSize","subject","node","current"],"sources":["/Users/davidhsieh/Code/react-flask-upload/frontend/node_modules/@chakra-ui/react-use-size/dist/index.esm.js"],"sourcesContent":["// src/index.ts\nimport { trackElementSize } from \"@zag-js/element-size\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nvar useSafeLayoutEffect = Boolean(globalThis == null ? void 0 : globalThis.document) ? useLayoutEffect : useEffect;\nfunction trackMutation(el, cb) {\n  var _a;\n  if (!el || !el.parentElement)\n    return;\n  const win = ((_a = el.ownerDocument) == null ? void 0 : _a.defaultView) ?? window;\n  const observer = new win.MutationObserver(() => {\n    cb();\n  });\n  observer.observe(el.parentElement, { childList: true });\n  return () => {\n    observer.disconnect();\n  };\n}\nfunction useSizes({\n  getNodes,\n  observeMutation = true\n}) {\n  const [sizes, setSizes] = useState([]);\n  const [count, setCount] = useState(0);\n  useSafeLayoutEffect(() => {\n    const elements = getNodes();\n    const cleanups = elements.map((element, index) => trackElementSize(element, (size) => {\n      setSizes((sizes2) => {\n        return [\n          ...sizes2.slice(0, index),\n          size,\n          ...sizes2.slice(index + 1)\n        ];\n      });\n    }));\n    if (observeMutation) {\n      const firstNode = elements[0];\n      cleanups.push(trackMutation(firstNode, () => {\n        setCount((count2) => count2 + 1);\n      }));\n    }\n    return () => {\n      cleanups.forEach((cleanup) => {\n        cleanup == null ? void 0 : cleanup();\n      });\n    };\n  }, [count]);\n  return sizes;\n}\nfunction isRef(ref) {\n  return typeof ref === \"object\" && ref !== null && \"current\" in ref;\n}\nfunction useSize(subject) {\n  const [size] = useSizes({\n    observeMutation: false,\n    getNodes() {\n      const node = isRef(subject) ? subject.current : subject;\n      return [node];\n    }\n  });\n  return size;\n}\nexport {\n  useSize,\n  useSizes\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}